<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Gabriele Pittarello" />

<meta name="date" content="2022-12-14" />

<title>Case study part 1</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Case study part 1</h1>
<h4 class="author">Gabriele Pittarello</h4>
<h4 class="date">2022-12-14</h4>



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>The <code>clmplus</code> package provides practitioners with a fast
and user friendly implementation of the modeling framework we derived in
our paper <em>Pittarello G., Hiabu M., and Villegas A., Chain ladder
Plus: a versatile approach for claims reserving, (pre-print,
2022)</em>.</p>
<p>We were able to connect the well-known hazard models developed in
life insurance to non-life run-off triangles claims development. The
flexibility of this approach goes beyond the methodological novelty: we
hope to provide a user-friendly set of tools based on the point of
contact between non-life insurance and life insurance in the actuarial
science.</p>
<p>This vignette is organized as follows:</p>
<ul>
<li><p>We show the connection between the age-period representation and
run-off triangles.</p></li>
<li><p>We replicate the chain-ladder model with an age-model. As shown
in the paper, by using the <code>clmplus</code> approach the resulting
model is saving some parameters with respect to the standard GLM
approach.</p></li>
<li><p>We show an example where adding a cohort effect can lead to an
improvement on the model fit.</p></li>
</ul>
<p>In this tutorial, we show an example on the <code>AutoBIPaid</code>
run-off triangle from the <code>ChainLadder</code> package.</p>
<div id="one-discipline-one-language" class="section level2">
<h2>One discipline, one language</h2>
<p>Consider the data set we chose for this tutorial.</p>
<p>The run-off triangle representation is displayed below:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ChainLadder)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;AutoBI&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>dataset<span class="ot">=</span>AutoBI<span class="sc">$</span>AutoBIPaid </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>dataset</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2]  [,3]  [,4]  [,5]  [,6]  [,7]  [,8]</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] 1904 5398  7496  8882  9712 10071 10199 10256</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2,] 2235 6261  8691 10443 11346 11754 12031    NA</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3,] 2441 7348 10662 12655 13748 14235    NA    NA</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4,] 2503 8173 11810 14176 15383    NA    NA    NA</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5,] 2838 8712 12728 15278    NA    NA    NA    NA</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6,] 2405 7858 11771    NA    NA    NA    NA    NA</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [7,] 2759 9182    NA    NA    NA    NA    NA    NA</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [8,] 2801   NA    NA    NA    NA    NA    NA    NA</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dataset)<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span>(<span class="fu">dim</span>(dataset)[<span class="dv">1</span>]<span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(dataset)<span class="ot">=</span><span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span>(<span class="fu">dim</span>(dataset)[<span class="dv">1</span>]<span class="sc">-</span><span class="dv">1</span>))</span></code></pre></div>
<p>Practitioners in general insurance refer to the x axis of this
representation as <strong>development years</strong>. Similarly, the y
axis is called <strong>accident years</strong>. The third dimension that
matters is the diagonals: the <strong>calendar years</strong>. There is
a one-to-one correspondence between the age-period representation and
run-off triangles. In notional terms, life insurance actuaries use the
following terminology:</p>
<ul>
<li><p><strong>ages</strong> are <strong>development
years</strong>.</p></li>
<li><p><strong>cohorts</strong> are <strong>accident
years</strong>.</p></li>
<li><p><strong>periods</strong> is <strong>calendar
years</strong>.</p></li>
</ul>
<p>Indeed, the age-period representation of the run-off triangle is the
following:</p>
<pre><code>#&gt;      [,1] [,2] [,3] [,4]  [,5]  [,6]  [,7]  [,8]
#&gt; [1,] 1904 2235 2441 2503  2838  2405  2759  2801
#&gt; [2,]   NA 5398 6261 7348  8173  8712  7858  9182
#&gt; [3,]   NA   NA 7496 8691 10662 11810 12728 11771
#&gt; [4,]   NA   NA   NA 8882 10443 12655 14176 15278
#&gt; [5,]   NA   NA   NA   NA  9712 11346 13748 15383
#&gt; [6,]   NA   NA   NA   NA    NA 10071 11754 14235
#&gt; [7,]   NA   NA   NA   NA    NA    NA 10199 12031
#&gt; [8,]   NA   NA   NA   NA    NA    NA    NA 10256</code></pre>
<p>Observe that the y axis is now the <strong>development years</strong>
(or <strong>age</strong>) component.</p>
<p><strong>Calendar years</strong> (or <strong>periods</strong>) are
displayed on the x axis.</p>
<p><strong>Accident years</strong> (or <strong>cohorts</strong>) are on
the diagonals.</p>
</div>
</div>
<div id="replicate-the-chain-ladder-with-the-clmplus-package" class="section level1">
<h1>Replicate the chain-ladder with the <code>clmplus</code>
package</h1>
<p><code>clmplus</code> is an out-of-the box set of tools to compute the
claims reserve. We now show how to replicate the chain ladder model.
Observe the run-off triangle data structure first needs to be
initialized to a <code>RtTriangle</code> object.</p>
<p>Starting from the results in the paper we showed how to replicate the
chain ladder with an age model. The computation on the
<code>RtTriangle</code> object is computed with the method
<code>clmplus</code> specifying an hazard model.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>a.model<span class="ot">=</span><span class="fu">clmplus</span>(<span class="at">RtTriangle =</span>  rtt, </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">hazard.model =</span> <span class="st">&quot;a&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: The following ages have been zero weighted: 1 </span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: The following years have been zero weighted: 1 </span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: The following cohorts have been zero weighted: -7 -6 -5 -4 -3 -2 -1 7 </span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: Start fitting with gnm</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: Finish fitting with gnm</span></span></code></pre></div>
<p>We show the consistency of our approach by comparing our estimates
with those obtained with the Mack chain ladder method as implemented in
the <code>ChainLadder</code> package.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>mck.chl <span class="ot">&lt;-</span> <span class="fu">MackChainLadder</span>(dataset)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>ultimate.chl<span class="ot">=</span>mck.chl<span class="sc">$</span>FullTriangle[,<span class="fu">dim</span>(mck.chl<span class="sc">$</span>FullTriangle)[<span class="dv">2</span>]]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>diagonal<span class="ot">=</span><span class="fu">rev</span>(<span class="fu">t2c</span>(mck.chl<span class="sc">$</span>FullTriangle)[,<span class="fu">dim</span>(mck.chl<span class="sc">$</span>FullTriangle)[<span class="dv">2</span>]])</span></code></pre></div>
<p>Estimates are gathered in a <code>data.frame</code> to ease the
understanding.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">ultimate.cost.mack=</span>ultimate.chl,</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">ultimate.cost.clmplus=</span>a.model<span class="sc">$</span>ultimate.cost,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">reserve.mack=</span>ultimate.chl<span class="sc">-</span>diagonal,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">reserve.clmplus=</span>a.model<span class="sc">$</span>reserve</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ultimate.cost.mack ultimate.cost.clmplus reserve.mack reserve.clmplus</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0           10256.00              10256.00      0.00000         0.00000</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1           12098.24              12098.24     67.23865        67.23865</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2           14580.19              14580.19    345.18727       345.18727</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3           16323.69              16323.69    940.68770       940.68770</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4           17628.86              17628.86   2350.85562      2350.85562</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5           16237.77              16237.77   4466.77443      4466.77443</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6           18285.24              18285.24   9103.24335      9103.24335</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7           17281.44              17281.44  14480.43832     14480.43832</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&#39;</span><span class="sc">\n</span><span class="st"> Total reserve:&#39;</span>,</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sum</span>(a.model<span class="sc">$</span>reserve))</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  Total reserve: 31754.43</span></span></code></pre></div>
<div id="claims-reserving-with-glms-compared-to-hazard-models" class="section level2">
<h2>Claims reserving with GLMs compared to hazard models</h2>
<p>We fit the standard GLM model with the <code>apc</code> package. As
shown in the paper the chain-ladder model can be replicated by fitting
an age-cohort model.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(apc)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>ds.apc <span class="ot">=</span> <span class="fu">apc.data.list</span>(<span class="fu">cum2incr</span>(dataset),</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">data.format =</span> <span class="st">&quot;CL&quot;</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>ac.model.apc <span class="ot">=</span> <span class="fu">apc.fit.model</span>(ds.apc,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">model.family =</span> <span class="st">&quot;od.poisson.response&quot;</span>,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>                         <span class="at">model.design =</span> <span class="st">&quot;AC&quot;</span>)</span></code></pre></div>
<p>Inspect the model coefficients derived from the output:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>ac.model.apc<span class="sc">$</span>coefficients.canonical[,<span class="st">&#39;Estimate&#39;</span>]</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        level    age slope cohort slope     DD_age_3     DD_age_4     DD_age_5 </span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   7.41596168   0.74105900   0.16519698  -1.16411707  -0.02909890  -0.17467013 </span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     DD_age_6     DD_age_7     DD_age_8  DD_cohort_3  DD_cohort_4  DD_cohort_5 </span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  -0.17533888   0.17408744  -0.55360421   0.02140672  -0.07364998  -0.03603392 </span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  DD_cohort_6  DD_cohort_7  DD_cohort_8 </span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  -0.15911660   0.20095088  -0.17521544</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>ac.fcst.apc <span class="ot">=</span> <span class="fu">apc.forecast.ac</span>(ac.model.apc)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">reserve.mack=</span>ultimate.chl<span class="sc">-</span>diagonal,</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">reserve.apc=</span><span class="fu">c</span>(<span class="dv">0</span>,ac.fcst.apc<span class="sc">$</span>response.forecast.coh[,<span class="st">&#39;forecast&#39;</span>]),</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>           <span class="at">reserve.clmplus=</span>a.model<span class="sc">$</span>reserve</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>           </span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   reserve.mack reserve.apc reserve.clmplus</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 0      0.00000     0.00000         0.00000</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1     67.23865    67.23865        67.23865</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2    345.18727   345.18727       345.18727</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    940.68770   940.68770       940.68770</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4   2350.85562  2350.85562      2350.85562</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5   4466.77443  4466.77443      4466.77443</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6   9103.24335  9103.24335      9103.24335</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 7  14480.43832 14480.43832     14480.43832</span></span></code></pre></div>
<p>Our method is able to replicate the chain-ladder results with no need
to add the cohort component.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>a.model<span class="sc">$</span>model.fit<span class="sc">$</span>ax</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           1           2           3           4           5           6 </span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          NA  0.02366899 -1.01313612 -1.72538123 -2.48027780 -3.34130515 </span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           7           8 </span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; -3.99615988 -5.18978418</span></span></code></pre></div>
<p>Further inspection can be performed with the <code>clmplus</code>
package, which provides the graphical tools to inspect the fitted
effects. Observe we model the rate in continuous time, the choice of a
line plot is then consistent.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(a.model)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
</div>
<div id="the-benefitial-effect-of-adding-the-cohort-component" class="section level1">
<h1>The benefitial effect of adding the cohort component</h1>
<p>It is straightforward to state that from the statistical perspective
it is desirable to have a model with less parameters. Nevertheless, our
approach goes far beyond that.</p>
<p>By adding the cohort effect we are able to improve our modeling.</p>
<p>We show these results by inspecting the residuals plots.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#make it triangular</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plotresiduals</span>(a.model)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Clearly, the red and blue areas suggest some trends that the model
wasnâ€™t able to catch. Consider now the age-cohort model and its
residuals plot.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>ac.model <span class="ot">&lt;-</span> <span class="fu">clmplus</span>(rtt, </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">hazard.model=</span><span class="st">&quot;ac&quot;</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">gk.fc.model=</span><span class="st">&#39;a&#39;</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: The following ages have been zero weighted: 1 </span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: The following years have been zero weighted: 1 </span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: The following cohorts have been zero weighted: -7 -6 -5 -4 -3 -2 -1 7 </span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: Start fitting with gnm</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: Finish fitting with gnm</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plotresiduals</span>(ac.model)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>With no need of extrapolating a period component, we were able to
improve the fit already. Pay attention, the cohort component for the
cohort <code>m</code> is extrapolated.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ac.model)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div id="extrapolation-of-a-period-component" class="section level2">
<h2>Extrapolation of a period component</h2>
<p>Similarly, it is possible to add a period component and choose an
age-period model or an age-period-cohort model.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>ap.model <span class="ot">=</span> <span class="fu">clmplus</span>(rtt,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">hazard.model =</span> <span class="st">&quot;ap&quot;</span>, </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">ckj.fc.model=</span><span class="st">&#39;a&#39;</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">ckj.order =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>))</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: The following ages have been zero weighted: 1 </span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: The following years have been zero weighted: 1 </span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: The following cohorts have been zero weighted: -7 -6 -5 -4 -3 -2 -1 7 </span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: Start fitting with gnm</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: Finish fitting with gnm</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>apc.model <span class="ot">=</span> <span class="fu">clmplus</span>(rtt,<span class="at">hazard.model =</span> <span class="st">&quot;apc&quot;</span>, </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>                   <span class="at">gk.fc.model=</span><span class="st">&#39;a&#39;</span>, </span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>                   <span class="at">ckj.fc.model=</span><span class="st">&#39;a&#39;</span>,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>                   <span class="at">gk.order =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>),</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>                   <span class="at">ckj.order =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>))</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: The following ages have been zero weighted: 1 </span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: The following years have been zero weighted: 1 </span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: The following cohorts have been zero weighted: -7 -6 -5 -4 -3 -2 -1 7 </span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: Start fitting with gnm</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; StMoMo: Finish fitting with gnm</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotresiduals</span>(ap.model)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>It can be seen that the age-period model does not suggest any serious
improvement from the age-cohort model. It is worth noticing one more
time that the age-cohort model does not require any extrapolation. In a
similar fashion, we plot the age-period-cohort model below, which seems
to lead us to a small improvement.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotresiduals</span>(apc.model)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Below, the effects of the age-period-cohort model.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(apc.model)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
</div>
<div id="conclusions" class="section level1">
<h1>Conclusions</h1>
<p>In this vignette we wanted to show the flexibility of our modeling
approach with respect to the well-known chain-ladder model.</p>
<ul>
<li><p>By modeling the hazard rate we are able to replicate the
chain-ladder results with less parameters. Indeed, we model the age
component directly and add a cohort effect if needed.</p></li>
<li><p>Going from an age model to an age-cohort model may lead to a
serious improvement in the model results.</p></li>
</ul>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
